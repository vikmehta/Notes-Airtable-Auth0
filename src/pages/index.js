import Head from 'next/head'
import { useEffect } from 'react'
import { useUser } from '@auth0/nextjs-auth0/client';
import { useRouter } from 'next/router';
import Image from 'next/image'
import Link from "next/link"

const Home = () => {
	const { user, error, isLoading } = useUser();
	const router = useRouter();

	useEffect(() => {
		if (user) {
			router.push('/listing')
		}
	}, [user, router])

	return (
		<>
			<Head>
				<title>Notes App</title>
				<meta name="description" content="Generated by create next app" />
				<meta name="viewport" content="width=device-width, initial-scale=1" />
				<link rel="icon" href="/favicon.ico" />
			</Head>
			<main>
				{!user && (
					<section className="text-gray-600 body-font flex items-center heroSection">
						<div className="container p-5 mx-auto flex heroContainer">
							<div className="sm:w-1/2 xl:w-1/3 flex flex-col justify-center sm:pr-10">
								<h1 className="text-2xl font-medium title-font text-gray-900 mb-4">Ignite Creativity with NoteSpark!</h1>
								<p className='mb-4'>Welcome to NoteSpark, where inspiration and productivity converge. To fully embrace the benefits of our feature-rich note-taking tool, we encourage you to log in to your account.</p>
								<Link href="/api/auth/login" className="rounded bg-indigo-500 hover:bg-indigo-600 text-white px-6 py-3 text-sm md:text-base text-center">Login Now</Link>
							</div>
							<div className='sm:w-1/2 xl:w-2/3 relative object-cover'>
								<Image src="/notes1.svg" alt="Login" fill={true} />
							</div>
						</div>
					</section>
				)}
			</main>
		</>
	)
}

export default Home